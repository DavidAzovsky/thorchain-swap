(this["webpackJsonpbepswap-multichain-app"]=this["webpackJsonpbepswap-multichain-app"]||[]).push([[4],{1218:function(e,t,n){"use strict";var c=n(4),a=n.n(c),s=n(18),i=n(37),o=n(0),r=n(30),l=n(143);t.a=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(o.useEffect)((function(){(function(){var e=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",c("..."),e.prev=2,e.next=5,l.a.getFees();case 5:n=e.sent,t=r.Amount.fromBaseAmount(n.fastest.amount(),8).toFixed(8),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("quote fee error",e.t0);case 12:c("".concat(t," BNB"));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n}},1229:function(e,t,n){"use strict";n.r(t);var c,a,s=n(4),i=n.n(s),o=n(18),r=n(37),l=n(0),u=n(74),d=n(85),b=n(30),j=n(125),p=n(208),O=n(1218),f=n(143),m=n(112),x=n(14),h=n(12),g=n(7),v=n(51),y=Object(h.d)(d.Panel).withConfig({displayName:"Sendstyle__Container",componentId:"gq8drw-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;background:",";margin-left:auto;margin-right:auto;padding-top:0px;border-radius:14px;border:1px solid ",";"],Object(g.palette)("background",0),Object(g.palette)("gray",0)),w=h.d.div.withConfig({displayName:"Sendstyle__ContentPanel",componentId:"gq8drw-1"})(["display:flex;flex-direction:column;width:100%;padding:16px 8px 8px 8px;",""],v.a.sm(c||(c=Object(x.a)(["\n    padding: 16px 12px 4px 12px;\n  "])))),C=h.d.div.withConfig({displayName:"Sendstyle__PoolSelect",componentId:"gq8drw-2"})(["display:flex;justify-content:space-between;align-items:center;padding:8px 8px;"]),k=h.d.div.withConfig({displayName:"Sendstyle__FormItem",componentId:"gq8drw-3"})(["display:flex;flex-direction:column;margin:8px 0;"]),S=Object(h.d)(d.Label).attrs({weight:"bold"}).withConfig({displayName:"Sendstyle__FormLabel",componentId:"gq8drw-4"})(["margin-bottom:8px;"]),A=h.d.div.withConfig({displayName:"Sendstyle__ConfirmModalContent",componentId:"gq8drw-5"})(["display:flex;flex-direction:column;padding:10px;"]),M=h.d.div.withConfig({displayName:"Sendstyle__MemoTypes",componentId:"gq8drw-6"})(["display:flex;align-items:center;justify-content:space-between;width:130px;"]),I=h.d.div.withConfig({displayName:"Sendstyle__ConfirmButtonContainer",componentId:"gq8drw-7"})(["display:flex;justify-content:center;align-items:center;width:100%;padding:0 2%;margin-top:14px;button{flex:1;}"]),N=n(1);!function(e){e[e.NORMAL=0]="NORMAL",e[e.EXPERT=1]="EXPERT"}(a||(a={}));var _=function(e){var t=e.sendAsset,n=e.wallet,c=Object(u.f)(),s=Object(j.a)().pools,p=Object(l.useMemo)((function(){return t.symbol}),[t]),x=Object(l.useMemo)((function(){var e=s.map((function(e){return e.asset}));return e.push(b.Asset.RUNE()),e}),[s]),h=Object(l.useState)(a.NORMAL),g=Object(r.a)(h,2),v=g[0],_=g[1],E=Object(l.useMemo)((function(){return v===a.EXPERT}),[v]),R=Object(l.useState)(b.Amount.fromAssetAmount(0,8)),P=Object(r.a)(R,2),T=P[0],q=P[1],B=Object(l.useState)(0),L=Object(r.a)(B,2),z=L[0],F=L[1],X=Object(l.useState)(""),U=Object(r.a)(X,2),J=U[0],V=U[1],W=Object(l.useState)(""),D=Object(r.a)(W,2),H=D[0],G=D[1],K=Object(l.useMemo)((function(){return E?H:J}),[E,H,J]),Q=Object(l.useState)(""),Y=Object(r.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(l.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],ce=te[1],ae=Object(l.useState)(t),se=Object(r.a)(ae,2),ie=se[0],oe=se[1],re=Object(l.useMemo)((function(){return Object(b.getWalletAssets)(n)}),[n]),le=Object(l.useMemo)((function(){return E?re.filter((function(e){return x.find((function(t){return t.eq(e)}))})):re}),[E,re,x]),ue=Object(l.useMemo)((function(){return n?Object(b.getAssetBalance)(t,n).amount:b.Amount.fromAssetAmount(0,8)}),[t,n]),de=Object(O.a)();Object(l.useEffect)((function(){E&&function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getPoolAddressByChain(t.chain);case 2:n=e.sent,G(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[E,t]);var be=Object(l.useCallback)((function(e){c.push(Object(m.n)(e))}),[c]),je=Object(l.useCallback)((function(e){oe(e),$("")}),[]),pe=Object(l.useCallback)((function(e){e.gt(ue)?(q(ue),F(100)):(q(e),F(e.div(ue).mul(100).assetAmount.toNumber()))}),[ue]),Oe=Object(l.useCallback)((function(e){F(e);var t=ue.mul(e).div(100);q(t)}),[ue]),fe=Object(l.useCallback)((function(){Oe(100)}),[Oe]),me=Object(l.useCallback)((function(e){var t=e.target.value;"pool"===t?_(a.EXPERT):(_(a.NORMAL),G("")),V(t)}),[]),xe=Object(l.useCallback)((function(e){var t=e.target.value;G(t)}),[]),he=Object(l.useCallback)((function(e){$(e.target.value)}),[]),ge=Object(l.useCallback)(Object(o.a)(i.a.mark((function e(){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(!1),!t){e.next=9;break}return n=new b.AssetAmount(t,T),e.next=5,f.a.transfer({assetAmount:n,recipient:K,memo:Z});case 5:c=e.sent,console.log("txhash",c),a=f.a.bnb.getClient().getExplorerTxUrl(c),Object(d.Notification)({type:"open",message:"View Send Tx.",description:"Transaction sent successfully!",btn:Object(N.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"View Transaction"}),duration:20});case 9:case"end":return e.stop()}}),e)}))),[t,T,K,Z]),ve=Object(l.useCallback)((function(){ce(!1)}),[]),ye=Object(l.useCallback)((function(){ce(!0)}),[]),we=Object(l.useCallback)((function(){$(b.Memo.depositMemo(t))}),[t]),Ce=Object(l.useCallback)((function(){if(ie){var e=Object(b.getWalletAddressByChain)(n,ie.chain)||"";$(b.Memo.swapMemo(ie,e))}}),[ie,n]),ke=Object(l.useMemo)((function(){return Object(N.jsxs)(A,{children:[Object(N.jsx)(d.Information,{title:"Send",description:t.ticker.toUpperCase()}),Object(N.jsx)(d.Information,{title:"Recipient",description:J}),Object(N.jsx)(d.Information,{title:"Memo",description:Z})]})}),[t,Z,J]);return Object(N.jsxs)(y,{children:[Object(N.jsx)(d.Helmet,{title:"Send ".concat(t.ticker),content:"Send ".concat(t.ticker)}),Object(N.jsxs)(d.ContentTitle,{children:["Send ",p]}),Object(N.jsxs)(w,{children:[Object(N.jsx)(d.AssetInputCard,{title:"send",asset:t,assets:le,amount:T,balance:ue,onChange:pe,onSelect:be,onMax:fe}),Object(N.jsx)(d.Slider,{value:z,onChange:Oe,withLabel:!0}),E&&Object(N.jsxs)(C,{children:[Object(N.jsx)(d.Label,{size:"big",align:"center",children:"Output Asset"}),Object(N.jsx)(d.AssetSelect,{asset:ie,assets:x,onSelect:je})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Recipient"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:J,onChange:me,placeholder:"Recipient"})]}),E&&Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Pool Address"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:H,onChange:xe,placeholder:"Pool Address"})]}),E&&Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Select Memo Type"}),Object(N.jsxs)(M,{children:[Object(N.jsx)(d.Button,{sizevalue:"small",color:"primary",typevalue:"outline",onClick:we,children:"Deposit"}),Object(N.jsx)(d.Button,{sizevalue:"small",color:"primary",typevalue:"outline",onClick:Ce,children:"Swap"})]})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Memo"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:Z,onChange:he,placeholder:"Memo"})]}),Object(N.jsx)(k,{children:Object(N.jsx)(d.Information,{title:"Network Fee",description:de})}),Object(N.jsx)(I,{children:Object(N.jsx)(d.FancyButton,{onClick:ye,error:!1,children:"Send"})})]}),Object(N.jsx)(d.ConfirmModal,{visible:ne,onOk:ge,onCancel:ve,children:ke})]})},E=function(){var e=Object(u.h)().asset,t=Object(p.a)(),n=t.wallet,c=t.keystore,a=b.Asset.fromAssetString(e);return a?n&&c?Object(N.jsx)(_,{sendAsset:a,wallet:n}):Object(N.jsx)(y,{children:Object(N.jsx)(d.Label,{children:"Please connect a wallet."})}):null};t.default=E}}]);
//# sourceMappingURL=4.88e5e1bc.chunk.js.map